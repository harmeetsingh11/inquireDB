# inquireDB - An AI SQL Agent for Q&A Using GroqCloud API and LangChain üë©‚Äçüíª

## Overview ‚ÑπÔ∏è

**inquireDB** is an AI-powered SQL agent designed to facilitate Q&A interactions with an SQL database using natural language. It leverages `GroqCloud API`, `Llama3` (an open-source Large Language Model), and `LangChain` framework to convert user queries into SQL commands, execute them against an SQLite database (using the `Northwind` sample database), and present the results in plain English via a Streamlit-based user interface.

## Architecture Overview üìç

![Excalidraw](https://github.com/harmeetsingh11/inquireDB/assets/130365071/e47f0941-fb7c-4fbd-ac5c-561fcadb12d4)

The inquireDB application follows a structured workflow to process user queries:

1. **Input:** User enters a natural language query via the command-line interface.

2. **Natural Language Understanding:** Llama3 model processes the query and converts it into a Domain Specific Language (DSL) query.

3. **SQL Query Execution:** Langchain SQL agent executes the DSL query against the SQLite database.

4. **Output:** The query results are retrieved from the database and formatted into human-readable text using Langchain output parsing.

## Features ‚ú®

- **Natural Language Processing**: Converts plain English questions into DSL queries using Llama3.

- **SQL Execution**: Executes SQL queries against an SQLite database (Northwind sample database).

- **User Interface**: Provides a user-friendly interface using Streamlit for input and output interactions.

- **Error Handling**: Handles output parsing errors and retries queries using LangChain's capabilities.

- **Conversation History**: Maintains a conversation history to display previous interactions.

## Technologies Used üõ†Ô∏è

- **GroqCloud API**: Hardware/software platform for building GenAI applications. Used for natural language processing and DSL query generation.

- **Llama3**: Open-source Large Language Model (LLM) used for understanding and generating SQL queries from user input.

- **LangChain**: Framework for creating conversational agents and handling complex interactions, including error handling and conversation memory.

- **Streamlit**: Python library for building interactive web applications. Used for creating the user interface of inquireDB.

- **SQLite**: Lightweight, embedded database used for storing and querying data in the Northwind sample database.

- **Python 3**: Programming language used for implementing the application logic and integration with external libraries.

## Setup Instructions üöÄ

### Prerequisites

1. **Install SQLite**: Download and install SQLite from the official SQLite website ([SQLite Downloads](https://sqlite.org/download.html)).

2. **Download Northwind Sample Database**: Obtain the Microsoft Northwind Sample Database. You can download it from [here](https://github.com/jpwhite3/northwind-SQLite3).

3. **Setup Python Environment**:
   ```bash
   pip install -r requirements.txt
   ```

### Running the Application ‚ñ∂Ô∏è

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/harmeetsingh11/inquireDB
   cd inquireDB
   ```

2. **Setup Environment Variables**:
   - Create a `.env` file in the root directory with the following content:
     ```plaintext
     GROQ_API_KEY=your_groq_api_key_here
     ```

3. **Initialize the System**:
   - Run `app.py` using Streamlit:
     ```bash
     streamlit run app.py
     ```

4. **Interact with inquireDB**:
   - Open your web browser and navigate to the Streamlit application URL (default: http://localhost:8501).
   - Ask questions in plain English related to the Northwind database and observe the responses generated by inquireDB.

## File Structure üìÅ

- **`app.py`**: Streamlit application code handling UI and user interactions.
- **`main.py`**: Backend logic including initialization of environment, database, model, agent, and query execution.
- **`Databases/northwind.db`**: SQLite database file containing the Northwind sample database.

## Usage üìò

- Upon running `app.py`, the Streamlit interface launches.
- Users can input questions in natural language regarding the Northwind database.
- inquireDB converts these questions into SQL queries, executes them, and displays results in plain English.

## Additional Notes üìù

- **Error Handling**: The application handles output parsing errors by retrying queries when `handle_parsing_errors=True` is set in `create_agent()` in `main.py`.
- **Extensibility**: The application can be extended to support additional databases or models by modifying the `initialize_database()` and `initialize_chat_model()` functions in `main.py`.
